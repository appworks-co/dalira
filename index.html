<!doctype html>
<html lang="en">

<head>
  <title>Dalira</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/vs.min.css">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/main.css">
  <meta name="robots" content="noindex, follow">
</head>

<body>

  <div class="wrapper d-flex align-items-stretch">
    <nav id="sidebar">
      <div class="custom-menu">
        <button type="button" id="sidebarCollapse" class="btn btn-primary">
          <i class="fa fa-bars"></i>
          <span class="sr-only">Toggle Menu</span>
        </button>
      </div>
      <div class="p-4 pt-5">
        <h1><a href="index.html" class="logo">Dalira</a></h1>
        <ul class="list-unstyled components mb-5">
          <li>
            <a href="#introduction">Introduction</a>
          </li>
          <li>
            <a href="#gettingStarted">Getting Started</a>
          </li>
          <li>
            <a href="#fileStructure">File Structure</a>
          </li>
          <li>
            <a href="#starterTemplate">Starter Template</a>
          </li>
          <li>
            <a href="#database">Database</a>
          </li>
          <li>
            <a href="#models">Models</a>
          </li>
          <li>
            <a href="#crud">CRUD</a>
          </li>
          <li>
            <a href="#examples">Examples</a>
          </li>
        </ul>

        <div class="footer">
          <p>Copyright &copy; 2022 -
            <script>document.write(new Date().getFullYear());</script> <br> All rights reserved | Dalira
          </p>
        </div>

      </div>
     
    </nav>

    <!-- Page Content  -->
    <div id="content" class="p-4 p-md-5 pt-5">
      <!-- Introduction -->
      <h2 id="introduction" class="mb-4">Introduction</h2>
      <p>Dalira is a lightweight PHP framework designed for developers who value elegant syntax, rapid runtime performance, and clean architecture. It promotes a clear separation of concerns, enabling web applications to be organized, maintainable, and scalable. The framework emphasizes simplicity and efficiency, allowing developers to build robust applications with minimal overhead. By adhering to best practices and modern design patterns, Dalira ensures that applications remain flexible and easy to extend over time. Its intuitive structure and performance-oriented design make it a suitable choice for projects of varying complexity.</p>
      
      <!-- Getting Started -->
      <h2 id="gettingStarted" class="mt-5 mb-4">Getting Started</h2>
      <p>To begin using Dalira, the following steps should be followed:</p>
      <ol>
        <li>The framework can be downloaded <a href="./file/dalira-framework-v1.0.0.rar" class="text-primary">here</a>. (v1.0.0)</li>
        <li>The downloaded files should be extracted into the <span class="text-primary">htdocs</span> directory.</li>
        <li>The browser should be opened, and <a href="http://localhost/dalira-framework-v1.0.0/" class="text-primary" target="_blank">http://localhost/dalira-framework-v1.0.0/</a> should be entered into the address bar.</li>
        <li>Once the setup is complete, the user can proceed to build their application using the framework.</li>
      </ol>
      <img src="images/congratulations.png" class="img-fluid" alt="">
      <!-- File Structure -->
      <h2 id="fileStructure" class="mt-5 mb-4">File Structure</h2>
      <p>Dalira follows a clean and organized file structure to ensure maintainability and scalability:</p>
      <pre><code class="language-html">
dalira-template/
├── app/
│   ├── layout/
│   ├── modals/
│   └── models/
├── config/
│   └── db/
└── public/
    ├── css/
    ├── img/
    └── js/
      </code></pre>

      <!-- Starter Template -->
      <h2 id="starterTemplate" class="mt-5 mb-4">Starter Template</h2>
      <p>To create a new <span class="text-danger">filename.php</span> file in the root project and include the <span class="text-danger">header.php</span> and <span class="text-danger">footer.php</span> files using their absolute paths, follow these steps:</p>
      <ol>
        <li>Create the <span class="text-danger">filename.php</span> file: <br> - In the root directory of the project, create a new file named <span class="text-danger">filename.php</span>.</li>
        <li>Include <span class="text-danger">header.php</span> and <span class="text-danger">footer.php</span> using absolute paths: <br> - Use PHP's <span class="text-primary">include</span> statement with the absolute paths to ensure the files are included consistently, regardless of the current working directory.</li>
      </ol>
      <div class="card">
        <div class="card-header text-center"><small>filename.php</small></div>
        <div class="card-body p-0">
          <pre class="shadow-lg rounded mb-0"><code class="language-php hljs py-0">
&lt;?php 
// Include the header.php file using its absolute path
include realpath(__DIR__ . '/app/layout/header.php');
?&gt;

&lt;h1&gt;Welcome to My Page&lt;/h1&gt;
&lt;p&gt;This is the main content of the page.&lt;/p&gt;

&lt;?php 
// Include the footer.php file using its absolute path
include realpath(__DIR__ . '/app/layout/footer.php');
?&gt;
          </code></pre>
        </div>
      </div>

      <h5 class="mt-4">CSS & JS Components</h5>
      <p>Dalira utilizes <span class="text-primary">Bootstrap 5.0.2</span> as its primary styling framework. This allows for a responsive and modern design, leveraging Bootstrap's grid system and components.</p>
      <p>To modify the styling or update the Bootstrap version, you can make changes in the <span class="text-danger">header.php</span> and the <span class="text-danger">footer.php</span> file.</p>
      <h5>Steps to Change Bootstrap Version or Customize Styles</h5>
      <p>1. Locate <span class="text-danger">header.php</span></p>
      <ul>
        <li>Look for the link to the Bootstrap CSS file, which typically appears as shown in the code below. You can either change or update it, or replace it with another CSS framework.</li>
      </ul>
      <div class="card">
        <div class="card-header text-center"><small>app/layout/header.php</small></div>
        <div class="card-body p-0">
          <pre class="shadow-lg rounded mb-0"><code class="language-html hljs py-0">
&lt;!-- Bootstrap CSS --&gt;
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"&gt;
          </code></pre>
        </div>
      </div>
      <p class="pt-4">2. Locate <span class="text-danger">footer.php</span></p>
      <ul>
        <li>Locate the Bootstrap-related script, typically formatted as shown in the code below. This script is essential for Bootstrap's JavaScript functionality, and you can update it or replace it with another framework as needed.</li>
      </ul>
      <div class="card">
        <div class="card-header text-center"><small>app/layout/footer.php</small></div>
        <div class="card-body p-0">
          <pre class="shadow-lg rounded mb-0"><code class="language-html hljs py-0">
&lt;!-- Bootstrap JS --&gt;
&lt;script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"&gt;&lt;/script&gt;
&lt;script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"&gt;&lt;/script&gt;
          </code></pre>
        </div>
      </div>

      <!-- Database -->
      <h2 id="database" class="mt-5 mb-4">Database</h2>
      <p>Setting up the database is simple just download the example database and import it on your phpmyadmin. After that, you'll need to update the <span class="text-danger">connector.php</span> file located in <span class="text-primary">config/db</span>. Change the private variable db to your desired database name.</p>
      <h5>Steps for setting up the database</h5>
      <ol>
        <li>Download the example database file <a href="./file/dalira.rar" class="text-primary">here</a>.</li>
        <li>Open your web browser and navigate to <a href="http://localhost/phpmyadmin/" class="text-danger" target="_blank">http://localhost/phpmyadmin/</a></li>
        <li>Create a New Database</li>
        <ul>
          <li>In phpMyAdmin, click on the <span class="text-primary">Database</span> tab at the top.</li>
          <li>Enter a name for your new database (e.g., dalira) in the <span class="text-primary">Create database</span> field.</li>
          <li>Select the appropriate collation (e.g., utf8mb4_general_ci).</li>
          <li>Click the <span class="text-primary">Create</span> button to create the database.</li>
        </ul>
        <li>Import the Example Database</li>
        <ul>
          <li>After creating the database, select it from the left-hand sidebar in phpMyAdmin.</li>
          <li>Click on the <span class="text-primary">Import</span> tab at the top.</li>
          <li>Under the <span class="text-primary">File to import</span> section, click <span class="text-primary">Choose File</span> and select the downloaded example database file (e.g., dalira.sql).</li>
          <li>Ensure the format is set to <span class="text-primary">SQL</span>.</li>
          <li>Click the <span class="text-primary">Go</span> button at the bottom to import the database.</li>
          <li>Once the import is complete, you should see a success message, and the database tables will be listed.</li>
        </ul>
        <li>Update the <span class="text-danger">connector.php</span> file</li>
        <ul>
          <li>Navigate to the <span class="text-primary">config/db</span> directory in your project.</li>
          <li>Open the <span class="text-danger">connector.php</span> file in a text editor or IDE. <br> - The file contains a <span class="text-primary">DBConnection</span> class with private properties for the database connection details. Update the db property to match the name of the database you created in Step 3.</li>
        </ul>
      </ol>
      <div class="card">
        <div class="card-header text-center"><small>config/db/connector.php</small></div>
        <div class="card-body p-0">
          <pre class="shadow-lg rounded mb-0"><code class="language-php hljs py-0">
&lt;?php

class DBConnection
{
  // Database connection properties
  private $host = "localhost"; // Database host
  private $user = "root";      // Database username
  private $pass = "";          // Database password
  private $db = "dalira";      // Database name (update this)

  // Method to establish a database connection
  protected function connect()
  {
    try {
      // Construct the Data Source Name (DSN)
      $dsn = 'mysql:host=' . $this-&gt;host . ';dbname=' . $this-&gt;db;
      // Create a new PDO instance
      $pdo = new PDO($dsn, $this-&gt;user, $this-&gt;pass);
      // Set PDO error mode to exception
      $pdo-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
      return $pdo;
    } catch (PDOException $e) {
      // Handle connection errors
      die('Connection failed: ' . $e->getMessage());
    }
  }
}

?&gt; 
          </code></pre>
        </div>
      </div>

      <!-- CRUD -->
      <h2 id="models" class="mt-5 mb-4">Models</h2>
      <p>Models are an essential part of any application that interacts with a database. They simplify database operations by encapsulating data retrieval, insertion, updating, and deletion logic. This documentation provides an overview of how to create and use models in your application, along with an example demonstrating CRUD (Create, Read, Update, Delete) operations.</p>
      <div class="card">
        <div class="card-header text-center"><small>app/models</small></div>
        <div class="card-body p-0">
<pre class="shadow-lg rounded mb-0"><code class="language-php hljs py-0">
&lt;?php

/**
 * ModelsFacade Class
 * 
 * This class extends the DBConnection class and provides a facade for performing CRUD operations
 * on the `dalira_table` in the database. It uses prepared statements with bound parameters to
 * ensure security and prevent SQL injection attacks.
 */
class ModelsFacade extends DBConnection
{

  /**
   * Create a new record in the `dalira_table`.
   * 
   * @param string $data The data to be inserted into the `data` column of the `dalira_table`.
   * @return PDOStatement Returns the executed PDOStatement object.
   */
  function create($data)
  {
    // Prepare the SQL statement to insert data into the `dalira_table`.
    $sql = $this->connect()->prepare("INSERT INTO dalira_table (data) VALUES (?)");
    
    // Execute the prepared statement with the provided data.
    $sql->execute([$data]);
    
    // Return the executed PDOStatement object.
    return $sql;
  }

  /**
   * Read all records from the `dalira_table`.
   * 
   * @return PDOStatement Returns the executed PDOStatement object containing all records.
   */
  function read()
  {
    // Prepare the SQL statement to select all records from the `dalira_table`.
    $sql = $this->connect()->prepare("SELECT * FROM dalira_table");
    
    // Execute the prepared statement.
    $sql->execute();
    
    // Return the executed PDOStatement object.
    return $sql;
  }

  /**
   * Update a record in the `dalira_table` based on the provided `id`.
   * 
   * @param string $data The new data to update in the `data` column.
   * @param int $id The `id` of the record to be updated.
   * @return PDOStatement Returns the executed PDOStatement object.
   */
  function update($data, $id)
  {
    // Prepare the SQL statement to update a record in the `dalira_table` using bound parameters.
    $sql = $this->connect()->prepare("UPDATE dalira_table SET data = ? WHERE id = ?");
    
    // Execute the prepared statement with the provided data and id.
    $sql->execute([$data, $id]);
    
    // Return the executed PDOStatement object.
    return $sql;
  }

  /**
   * Delete a record from the `dalira_table` based on the provided `id`.
   * 
   * @param int $id The `id` of the record to be deleted.
   * @return PDOStatement Returns the executed PDOStatement object.
   */
  function delete($id)
  {
    // Prepare the SQL statement to delete a record from the `dalira_table`.
    $sql = $this->connect()->prepare("DELETE FROM dalira_table WHERE id = ?");
    
    // Execute the prepared statement with the provided `id`.
    $sql->execute([$id]);
    
    // Return the executed PDOStatement object.
    return $sql;
  }

}

?&gt;

</code></pre>
        </div>
      </div>
      <h5 class="mt-3">Initializing Models</h5>
      <p>Once a model is created, it needs to be initialized before it can be utilized on any page. To initialize the model, it should be included in the <span class="text-danger">header.php</span> as demonstrated in the code.</p>
      <div class="card">
        <div class="card-header text-center"><small>app/layout/header.php</small></div>
        <div class="card-body p-0">
<pre class="shadow-lg rounded mb-0"><code class="language-php hljs py-0">
// Include necessary files for database connectivity and facade classes
include(__DIR__ . '/../../config/db/connector.php');

include(__DIR__ . '/../../app/models/models-facade.php');

$modelsFacade = new ModelsFacade;

</code></pre>
        </div>
      </div>

      <!-- CRUD -->
      <h2 id="crud" class="mt-5 mb-4">CRUD</h2>
      <p>CRUD (Create, Read, Update, Delete) operations form the backbone of data management in web applications, enabling developers to efficiently handle data lifecycles.</p>
      <ul>
        <li><span class="text-primary">Create</span> use for the addition of new records.</li>
        <li><span class="text-primary">Read</span> use for the retrieval of created records.</li>
        <li><span class="text-primary">Update</span> use for the modification of existing records.</li>
        <li><span class="text-primary">Delete</span> use for the removal of existing records.</li>
      </ul>

      <!-- Examples -->
      <h2 id="examples" class="mt-5 mb-4">Examples</h2>
      <ul>
        <li><a href="#" class="text-primary" data-toggle="modal" data-target="#createOperationModal">Create Operation</a></li>
        <li><a href="#" class="text-primary" data-toggle="modal" data-target="#readOperationModal">Read Operation</a></li>
        <li><a href="#" class="text-primary" data-toggle="modal" data-target="#updateOperationModal">Update Operation</a></li>
        <li><a href="#" class="text-primary" data-toggle="modal" data-target="#deleteOperationModal">Delete Operation</a></li>
      </ul>
    </div>
  </div>



  <!-- Modals -->
  <!-- Create Operation Modal -->
  <div class="modal fade" id="createOperationModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalScrollableTitle">Create Operation</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
<pre class="rounded mb-0"><code class="language-php hljs py-0">&lt;?php 

include realpath(__DIR__ . '/app/layout/header.php');

// Check if the form has been submitted
if (isset($_POST['create'])) {
  // Retrieve the submitted data from the form
  $data = $_POST['data'];

  // Validate that the data is not empty
  if (empty($data)) {
    // If the data is empty, add an error message to the $invalid array
    array_push($invalid, "Data should not be empty.");
  } 
  
  // If no validation errors have been encountered
  if (count($invalid) == 0) {
    // Attempt to create a new entry with the provided data
    $create = $modelsFacade->create($data);
    
    // Check if the creation was successful
    if ($create) {
      // If successful, add a success message to the $success array
      array_push($success, "Data has been created successfully.");
    }
  }
}

?&gt;

&lt;?php include realpath(__DIR__ . '/errors.php') ?&gt;
&lt;form action="create.php" method="post"&gt;
    &lt;input type="text" placeholder="Data" name="data"&gt;
    &lt;button type="submit" name="create"&gt;Create&lt;/button&gt;
&lt;/form&gt;

&lt;?php include realpath(__DIR__ . '/app/layout/footer.php') ?&gt;    
</code></pre>
        </div>
      </div>
    </div>
  </div>

  <!-- Read Operation Modal -->
  <div class="modal fade" id="readOperationModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalScrollableTitle">Read Operation</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
<pre class="rounded mb-0"><code class="language-php hljs py-0">&lt;?php include realpath(__DIR__ . '/app/layout/header.php') ?&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Data&lt;/th&gt;
      &lt;th&gt;Action&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;?php
    // Fetch the data from the database using the read method
    $read = $modelsFacade-&gt;read();
    
    // Loop through each record returned from the database
    foreach ($read as $data) { ?&gt;
      &lt;tr&gt;
        &lt;td&gt;&lt;?= htmlspecialchars($data['data']) ?&gt;&lt;/td&gt;
        &lt;td&gt;
          &lt;a href="update.php?id=&lt;?= htmlspecialchars($data['id']) ?&gt;"&gt;Update&lt;/a&gt;
          &lt;a href="delete.php?id=&lt;?= htmlspecialchars($data['id']) ?&gt;"&gt;Delete&lt;/a&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;?php } ?&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;?php include realpath(__DIR__ . '/app/layout/footer.php') ?&gt;                                    
</code></pre>
        </div>
      </div>
    </div>
  </div>

   <!-- Update Operation Modal -->
   <div class="modal fade" id="updateOperationModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalScrollableTitle">Update Operation</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
<pre class="rounded mb-0"><code class="language-php hljs py-0">&lt;?php

include realpath(__DIR__ . '/app/layout/header.php');

// Retrieve the id of the selected data
if (isset($_GET["id"])) {
    $id = $_GET["id"];
}

// Check if the form has been submitted
if (isset($_POST['update'])) {
    // Retrieve the submitted data from the form
    $id = $_POST['id'];
    $data = $_POST['data'];

    // Validate that the data is not empty
    if (empty($data)) {
        // If the data is empty, add an error message to the $invalid array
        array_push($invalid, "Data should not be empty.");
    }

    // If no validation errors have been encountered
    if (count($invalid) == 0) {
        // Attempt to update provided data
        $update = $modelsFacade->update($data, $id);
        
        // Check if the updation was successful
        if ($update) {
            // If successful, add a success message to the $success array
            array_push($success, "Data has been updated successfully.");
        }
    }
}

?&gt;

&lt;?php include realpath(__DIR__ . '/errors.php') ?&gt;
&lt;form action="update.php" method="post"&gt;
    &lt;input type="hidden" name="id" value="&lt;?= $id ?&gt;"&gt;
    &lt;input type="text" placeholder="Data" name="data"&gt;
    &lt;button type="submit" name="update"&gt;Update&lt;/button&gt;
&lt;/form&gt;

&lt;?php include realpath(__DIR__ . '/app/layout/footer.php') ?&gt;                                                  
</code></pre>
        </div>
      </div>
    </div>
  </div>

  <!-- Delete Operation Modal -->
  <div class="modal fade" id="deleteOperationModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalScrollableTitle">Delete Operation</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
<pre class="rounded mb-0"><code class="language-php hljs py-0">&lt;?php

include realpath(__DIR__ . '/app/layout/header.php');

// Retrieve the id of the selected data
if (isset($_GET["id"])) {
    $id = $_GET["id"];

    // Attempt to delete data base from the id
    $delete = $modelsFacade->delete($id);

    // Check if the deletion was successful
    if ($delete) {
        // If successful, add a success message to the $success array
        array_push($success, "Data has been deleted successfully.");
    }
}

?&gt;

&lt;?php include realpath(__DIR__ . '/errors.php') ?&gt;                                        
</code></pre>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <script src="js/jquery.min.js"></script>
  <script src="js/popper.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/main.js"></script>

</body>

</html>